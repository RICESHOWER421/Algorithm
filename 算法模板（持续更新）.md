# 算法模板

## 一、二分查找：

### 1.朴素版本：

```C++
while(left <= righht){
    int mid = left + (right - left) / 2 //或者left + (right - left + 1) / 2，这种写法是为了防止数据溢出
    if(.....) left = mid + 1;
    else if(.....) right = mid - 1;
    else return .....;
}
```



### 2.高端版本：

```C++
while(left < right){
    int mid = left + (right - left) / 2;
    if(....) left = mid + 1;
    else right = mid;
}

while(left < right){
    int mid = left + (right - left + 1) / 2;
    if(....) right = mid - 1;
    else left = mid;
}
```



## 二、前缀和

### 1.一维前缀和

```C++
#include <iostream>
#include <vector>
using namespace std;
typedef long long ll;

int main() {
	int n = 0, q = 0;
	cin >> n >> q;
	vector<ll> nums(n);
	vector<ll> dp(n + 1);
	for (int i = 0; i < n; i++) {
		cin >> nums[i];
	}

	for (int i = 1; i <= n; i++) {
		dp[i] = dp[i - 1] + nums[i - 1];
	}

	while (q--) {
		int l = 0, r = 0;
		cin >> l >> r;
		cout << dp[r] - dp[l - 1] << endl;
	}
	return 0;
}
```



### 2.二维前缀和

```C++
#include <iostream>
#include <vector>
typedef long long ll;
using namespace std;

int main() {
	int n = 0, m = 0, q = 0;
	cin >> n >> m >> q;
	vector<vector<ll>> nums(n + 1, vector<ll>(m + 1));
	vector<vector<ll>> dp(n + 1, vector<ll>(m + 1));
	//录入数据
	for (int i = 1; i <= n; i++) {
		for (int j = 1; j <= m; j++) {
			cin >> nums[i][j];
		}
	}

	//进行动态规划填表
	for (int i = 1; i <= n; i++) {
		for (int j = 1; j <= m; j++) {
			dp[i][j] = dp[i - 1][j] + dp[i][j - 1] - dp[i - 1][j - 1] + nums[i][j];
		}
	}

	//进行结果打印
	while (q--) {
		int x1 = 0, y1 = 0, x2 = 0, y2 = 0;
		cin >> x1 >> y1 >> x2 >> y2;
		cout << dp[x2][y2] - dp[x1 - 1][y2] - dp[x2][y1 - 1] + dp[x1 - 1][y1 - 1] << endl;
	}
	return 0;
}
```

## 三、位运算

### 1.提取一个数(n)二进制表示中最右侧的1（lowbit）

方法：n & (- n)

举例说明：

0 1 1 0 1 0 1 1 0  (n)

1 0 0 1 0 1 0 1 0 (-n)

进行按位与操作：

0 0 0 0 0 0 0 1 0 （该1为n数中最右侧的1）



### 2.去除一个数(n)二进制表示最右侧的1

方法：n & (n - 1)

举例说明：
0 1 1 0 1 0 1 0 0 （n）

0 1 1 0 1 0 0 1 1  （n - 1）

进行按位与操作：
0 1 1 0 1 0 0 0 0  （n数最右边的1去除）



### 3.给定一个数n，确定它的二进制表示中的第x位是0还是1

方法：(n >> x) & 1，如果结果是0则该位是0，否则为1。

举例说明：

当x为2时，n：

0 1 1 0 0 0 1 1 0 1

0 0 0 1 1 0 0 0 1 1	（向右位移两位）

0 0 0 0 0 0 0 0 0 1	 （与1进行按位与操作，发现结果为1，说明第二位是1）



### 4.将一个数n的二进制表示的第x位修改成1

方法：n |= (1 << x) (n = n | (1 << x))

举例说明：

当x为2时，n：

0 1 1 0 0 0 1 0 0 1

0 0 0 0 0 0 0 1 0 0   （1向左移动两位）

0 1 1 0 0 0 1 1 0 1   （进行按位或操作，发现第二位数已经变成了1）



### 5.将一个数n的二进制表示的第x位修改成0

方法：n &= (~(1 << x)) (n = n & (~(1 << x)))

举例说明：

当x为2时，n：

0 1 1 0 0 0 1 1 0 1

1 1 1 1 1 1 1 0 1 1   （将1向左移动两位并对该值取反）

0 1 1 0 0 0 1 0 0 1   （进行按位与操作，发现第二位数已经变成了0）
